---
layout: post
title:  "행복TF 과제물 코드 수의 변화"
date:   2015-02-08 18:00:00
categories: refactoring
tags: 리팩토링
---
<br>
먼저 Jenkins에 빌드를 한 기준으로 지금까지의 코드 수의 변화 추이를 알아보겠습니다.
##전체적인 코드 수의 변화
<br><br>
![1]({{ http://jag212.github.io }}/assets/jenkins_total.png)
<br><br>
위의 그래프를 보면 전반적으로 처음 Jenkins에 빌드를 시작한 날 이후, 리팩토링을 시작하며 차차 코드 수가 줄어들기 시작하였습니다.
이는 리팩토링을 통해 불필요한 코드를 줄이고, 중복 코드를 메소드로 분리하는 등 조원들 각자 리팩토링을 수행하며 코드 수가 많이 줄어들었다고 생각합니다.
하지만 1월 31일 이후 거의 변화가 없던 코드 수가 점차 다시 늘어나기 시작하였는데, 이는 추가적인 스펙과 요구사항이 반영되기 시작하면서 프로젝트의 코드 수가 증가되었다고 생각됩니다.

---

<br>
##11번 Build
그럼 좀 더 자세히 변화가 일어났던 빌드 별 JAVA코드의 Line 수를 살펴보도록 하겠습니다.
먼저, 가장 처음으로 빌드가 제대로 성공되어 Jenkins에 올렸던 때의 11번 빌드의 그래프입니다.
<br><br>
![1]({{ http://jag212.github.io }}/assets/jenkins_n11.png)
<br><br>
처음에는 리팩토링에 대한 개념도 없었고, 조원들 각자가 저마다의 스타일을 가지고 코딩을 하다보니 중복된 코드도 많았고, 나쁜 냄새가 나는 코드들도 프로젝트에 상당히 많이 포함되어 있었습니다.
이 그래프를 보시면, 최초의 자바코드는 3016 라인으로 저희 프로젝트의 평균 코드 수를 크게 웃도는 라인 수였다고 생각합니다.
<br>

---

##80번 Build
다음의 그래프는 리팩토링을 시작한 후 가장 라인 수가 줄어들었던 1월 30일 경, 80번 빌드의 라인 수 입니다.
<br><br>
![1]({{ http://jag212.github.io }}/assets/jenkins_n80.png)
<br><br>
위의 그래프를 보면 11번 빌드 때보다 231라인이 감소한 2785 인 것을 확인하실 수 있습니다. 이 때가 가장 많이 코드 다이어트를 수행했던 때였고, 다른 기능을 추가하기보다는 교육 때 배운 내용을 
기반으로 조원 모두가 리팩토링을 하기 위해 노력했기 때문이었다고 생각합니다.
<br>

---

##186번 Build
마지막으로 가장 최근의 빌드인 186번입니다.
<br><br>
![1]({{ http://jag212.github.io }}/assets/jenkins_n186.png)
<br><br>
가장 코드가 줄어들었던 때보다 약 200라인 가량 늘어난 것을 확인하실 수 있는데, 이는 리팩토링 이후 Redis 연동, Storage Object, Sharding 등 여러 추가 스펙이 부여되면서 늘어난 수치라고 생각합니다.
하지만 여러 기능들이 추가되었음에도 조원 모두가 리팩토링에 많은 신경을 쓰며 코딩을 한 결과, 생각했던 것 보다 코드의 수가 많이 증가하지는 않았다고 생각합니다.
<br><br>
---
사실 코드의 수가 프로그램의 품질을 이야기해주지는 않고, 지표로 사용될 수도 없는 것이 사실입니다. 하지만 이번 기회를 통해 저희 프로젝트를 되돌아 보고, 리팩토링의 중요성을 한번 더 생각해보게 되었던 것 같습니다.
앞으로도 스스로 프로젝트를 수행하며 히스토리에 좀 더 관심을 가져야겠다는 것을 느꼈습니다. 